<!DOCTYPE html>
<html lang="de-DE">
<head>
    <title>KI</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/annyang/2.6.1/annyang.min.js"></script>
</head>
<body>

<h1>KI Test</h1>
<p> Bitte Mikrofon und Lautsprecher anschalten. Sonst funktioniert es nicht. Und Chrome hernehmen.
<iframe id="soundframe" style="height:0px; width:0px;" src="https://translate.google.com/translate_tts?tl=de&q=Hallo%20wie%20hei%C3%9Ft%20du&client=tw-ob"></iframe>
   
<script>
if (annyang) {
  annyang.setLanguage('de-DE');
  var r= document.getElementById('results')
  var befehl = function(name){
	annyang.abort();
	var antwort = "Deine Mutter heißt " + name + ". Lulz! Ich bin ab jetzt ein Echo, hihi."
	//document.getElementById("inhalt").innerHTML += name + " ist ein schöner Name"; 
	
	document.getElementById("soundframe").src = "https://translate.google.com/translate_tts?tl=de&q=" + encodeURI(antwort) + "&client=tw-ob"
	setTimeout(function(){ annyang.start(); }, 8500);
  }
  var direkt = function(name){
	annyang.abort();
	var antwort = name;
	//antwort = name.split(" ");
	//antwort = antwort[antwort.length-1];
	//antwort = antwort.substring(1, antwort.length);
	//antwort = antwort + " huuiui " + antwort;
	antwort += " " + antwort;
	document.getElementById("soundframe").src = "https://translate.google.com/translate_tts?tl=de&q=" + encodeURI(antwort) + "&client=tw-ob"
	setTimeout(function(){ annyang.start(); }, 5000);
 
  }
  var commands = {
	'mein name ist *name': befehl,
	'ich heiße *name': befehl,
	'ich bin (der) (die) *name': befehl,
    '*name': direkt
  };

  annyang.addCommands(commands);
  setTimeout(function(){ annyang.start(); }, 3000);
  
}
</script>
</body>
</html>
